<header class="header__wrapper">
  <h1 class="header__title">
    <%= @deck.name %>
  </h1>
  <%= if @deck.user_id == Pow.Plug.current_user(@conn).id do %>
    <a class="text-xs btn-outline" href="<%= Routes.deck_path @conn, :edit, @deck %>">Edit</a>
  <% else %>
    <a class="text-xs btn-outline">Fork</a>
  <% end %>
</header>

<section>
  <ul class="flex flex-col w-full space-y-4">
    <%= for {note, i} <- Enum.with_index(@notes) do %>
      <li class="truncate">
        <h2 class="truncate">
          <a
            class="justify-start py-1 border-b border-gray-100 hover:border-indigo-600 text-link"
            href="<%= Routes.deck_note_path @conn, :show, @deck, note %>"
          >
            <%= i+1 %>. <%= note.title %>
          </a>
        </h2>
      </li>
    <% end %>

    <%= if @notes == [] do %>
      <li class="text-center">No notes is created for this deck yet.</li>
    <% end %>
  </ul>
</section>

<section class="py-6 text-center space-x-2">
  <%= if @deck.user_id == Pow.Plug.current_user(@conn).id do %>
    <a class="btn-primary" href="<%= Routes.deck_note_path @conn, :new, @deck %>">Add note</a>
  <% end %>
  <a class="btn-outline" href="<%= Routes.deck_path @conn, :index %>">Back</a>
</section>
